---
phase: 6
plan: 1
name: Documentation & Final Polish
wave: 1
depends_on: []
autonomous: true
---

# Phase 6 Plan 1: Documentation & Final Polish

## Objective

Complete the refactoring milestone documentation requirements and verify all performance
optimizations are in place.

## Context

**Requirements addressed:** DOCS-03, DOCS-04, PERF-02, PERF-03

### Pre-satisfied Requirements

- **PERF-02** (spawn_blocking): Already implemented in `storage/async_ops.rs` with
  `flush_async`, `reserve_capacity_async`, `compact_async`, `store_batch_async`.
- **PERF-03** (format allocations): Already eliminated in `index/trigram/simd.rs` —
  zero-copy scalar + `build_padded_bytes()`, no `format!` in hot paths.

### Remaining Work

- **DOCS-03**: Fix 2 rustdoc HTML tag warnings; verify `#![warn(missing_docs)]` coverage.
- **DOCS-04**: Review README.md for outdated content after 7 phases of refactoring.

## Tasks

### Task 1: Fix rustdoc HTML tag warnings

**Files:**
- `crates/velesdb-core/src/collection/graph/clustered_index.rs` line 10
- `crates/velesdb-core/src/vector_ref.rs` lines 8, 23

**Action:** Wrap bare `Vec<u64>` and `Vec<f32>` in backticks in module-level rustdoc.

**Verify:** `cargo doc --package velesdb-core --no-deps 2>&1 | Select-String "warning"` — 0 warnings.

### Task 2: Audit public API docs coverage

**Action:** Verify `#![warn(missing_docs)]` produces zero warnings for public items.
Check key exported types have usage examples.

**Verify:** `cargo doc --package velesdb-core --no-deps` — clean output.

### Task 3: Review and update README.md

**Files:** `README.md`

**Action:** Review for outdated information after 7 phases of refactoring:
- Module structure references (simd_native was split)
- Performance claims (DistanceEngine optimization)
- Feature list accuracy
- Installation/build instructions

### Task 4: Verification

**Action:** Run full quality gates.

**Verify:**
```powershell
cargo doc --package velesdb-core --no-deps  # 0 warnings
cargo clippy --package velesdb-core -- -D warnings
cargo test --package velesdb-core -- 2>&1 | Select-String "test result"
```
